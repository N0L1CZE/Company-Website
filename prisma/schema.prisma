datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id           String   @id @default(cuid())
  email        String   @unique
  passwordHash String
  createdAt    DateTime @default(now())
}

model Reference {
  id        String     @id @default(cuid())
  label     String
  src       String
  category  String
  persons   Person[]   @relation("ReferencePersons")
  createdAt DateTime   @default(now())
}

model Person {
  id         String      @id @default(cuid())
  name       String      @unique
  references Reference[] @relation("ReferencePersons")
  portfolioItems PortfolioItem[] 
}

model ContactText {
  id       String   @id @default(cuid())
  key      String   @unique        // např. "contact.header", "contact.emailLabel"…
  content  String
}

model PortfolioItem {
  id        Int      @id @default(autoincrement())
  title     String
  pdfUrl    String
  person    Person   @relation(fields: [personId], references: [id])
  personId  String
  createdAt DateTime @default(now())
}